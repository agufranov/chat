(function() {
  window.MyCtrl = function($scope) {
    $scope.status = "Disconnected";
    $scope.isConnected = false;
    $scope.uid = "user_x";
    $scope.socket = void 0;
    $scope._setConnected = function(isConnected) {
      $scope.status = isConnected ? "Connected" : "Disconnected";
      console.log($scope.status);
      $scope.isConnected = isConnected;
      if (!$scope.$$phase) {
        return $scope.$apply();
      }
    };
    $scope.connect = function() {
      console.log("connect click");
      $scope.socket = io.connect("http://127.0.0.1:8001", {
        "force new connection": true,
        query: {
          userId: $scope.uid
        }
      });
      $scope.socket.on("connect", function() {
        console.log("connected");
        return $scope._setConnected(true);
      });
      return $scope.socket.on("disconnect", function() {
        console.log("disconnected");
        $scope._setConnected(false);
        console.log($scope.status);
        return console.log($scope.isConnected);
      });
    };
    return $scope.disconnect = function() {
      return $scope.socket.disconnect();
    };
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzL015Q3RybC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxFQUFBLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLFNBQUMsTUFBRCxHQUFBO0FBQ2QsSUFBQSxNQUFNLENBQUMsTUFBUCxHQUFnQixjQUFoQixDQUFBO0FBQUEsSUFDQSxNQUFNLENBQUMsV0FBUCxHQUFxQixLQURyQixDQUFBO0FBQUEsSUFHQSxNQUFNLENBQUMsR0FBUCxHQUFhLFFBSGIsQ0FBQTtBQUFBLElBS0EsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsTUFMaEIsQ0FBQTtBQUFBLElBT0EsTUFBTSxDQUFDLGFBQVAsR0FBdUIsU0FBQyxXQUFELEdBQUE7QUFDckIsTUFBQSxNQUFNLENBQUMsTUFBUCxHQUFtQixXQUFILEdBQW9CLFdBQXBCLEdBQXFDLGNBQXJELENBQUE7QUFBQSxNQUNBLE9BQU8sQ0FBQyxHQUFSLENBQVksTUFBTSxDQUFDLE1BQW5CLENBREEsQ0FBQTtBQUFBLE1BRUEsTUFBTSxDQUFDLFdBQVAsR0FBcUIsV0FGckIsQ0FBQTtBQUdBLE1BQUEsSUFBRyxDQUFBLE1BQU8sQ0FBQyxPQUFYO2VBQ0UsTUFBTSxDQUFDLE1BQVAsQ0FBQSxFQURGO09BSnFCO0lBQUEsQ0FQdkIsQ0FBQTtBQUFBLElBY0EsTUFBTSxDQUFDLE9BQVAsR0FBaUIsU0FBQSxHQUFBO0FBQ2YsTUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLGVBQVosQ0FBQSxDQUFBO0FBQUEsTUFDQSxNQUFNLENBQUMsTUFBUCxHQUFnQixFQUFFLENBQUMsT0FBSCxDQUFXLHVCQUFYLEVBQW9DO0FBQUEsUUFBRSxzQkFBQSxFQUF3QixJQUExQjtBQUFBLFFBQWdDLEtBQUEsRUFBTztBQUFBLFVBQUUsTUFBQSxFQUFRLE1BQU0sQ0FBQyxHQUFqQjtTQUF2QztPQUFwQyxDQURoQixDQUFBO0FBQUEsTUFFQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQWQsQ0FBaUIsU0FBakIsRUFBNEIsU0FBQSxHQUFBO0FBQzFCLFFBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxXQUFaLENBQUEsQ0FBQTtlQUNBLE1BQU0sQ0FBQyxhQUFQLENBQXFCLElBQXJCLEVBRjBCO01BQUEsQ0FBNUIsQ0FGQSxDQUFBO2FBS0EsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFkLENBQWlCLFlBQWpCLEVBQStCLFNBQUEsR0FBQTtBQUM3QixRQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksY0FBWixDQUFBLENBQUE7QUFBQSxRQUNBLE1BQU0sQ0FBQyxhQUFQLENBQXFCLEtBQXJCLENBREEsQ0FBQTtBQUFBLFFBRUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFNLENBQUMsTUFBbkIsQ0FGQSxDQUFBO2VBR0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFNLENBQUMsV0FBbkIsRUFKNkI7TUFBQSxDQUEvQixFQU5lO0lBQUEsQ0FkakIsQ0FBQTtXQTBCQSxNQUFNLENBQUMsVUFBUCxHQUFvQixTQUFBLEdBQUE7YUFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFkLENBQUEsRUFEa0I7SUFBQSxFQTNCTjtFQUFBLENBQWhCLENBQUE7QUFBQSIsImZpbGUiOiJjb250cm9sbGVycy9NeUN0cmwuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuTXlDdHJsID0gKCRzY29wZSkgLT5cbiAgJHNjb3BlLnN0YXR1cyA9IFwiRGlzY29ubmVjdGVkXCJcbiAgJHNjb3BlLmlzQ29ubmVjdGVkID0gZmFsc2VcblxuICAkc2NvcGUudWlkID0gXCJ1c2VyX3hcIlxuXG4gICRzY29wZS5zb2NrZXQgPSB1bmRlZmluZWRcblxuICAkc2NvcGUuX3NldENvbm5lY3RlZCA9IChpc0Nvbm5lY3RlZCkgLT5cbiAgICAkc2NvcGUuc3RhdHVzID0gaWYgaXNDb25uZWN0ZWQgdGhlbiBcIkNvbm5lY3RlZFwiIGVsc2UgXCJEaXNjb25uZWN0ZWRcIlxuICAgIGNvbnNvbGUubG9nICRzY29wZS5zdGF0dXNcbiAgICAkc2NvcGUuaXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZFxuICAgIGlmICEkc2NvcGUuJCRwaGFzZVxuICAgICAgJHNjb3BlLiRhcHBseSgpXG5cbiAgJHNjb3BlLmNvbm5lY3QgPSAtPlxuICAgIGNvbnNvbGUubG9nIFwiY29ubmVjdCBjbGlja1wiXG4gICAgJHNjb3BlLnNvY2tldCA9IGlvLmNvbm5lY3QgXCJodHRwOi8vMTI3LjAuMC4xOjgwMDFcIiwgeyBcImZvcmNlIG5ldyBjb25uZWN0aW9uXCI6IHRydWUsIHF1ZXJ5OiB7IHVzZXJJZDogJHNjb3BlLnVpZCB9IH1cbiAgICAkc2NvcGUuc29ja2V0Lm9uIFwiY29ubmVjdFwiLCAtPlxuICAgICAgY29uc29sZS5sb2cgXCJjb25uZWN0ZWRcIlxuICAgICAgJHNjb3BlLl9zZXRDb25uZWN0ZWQgdHJ1ZVxuICAgICRzY29wZS5zb2NrZXQub24gXCJkaXNjb25uZWN0XCIsIC0+XG4gICAgICBjb25zb2xlLmxvZyBcImRpc2Nvbm5lY3RlZFwiXG4gICAgICAkc2NvcGUuX3NldENvbm5lY3RlZCBmYWxzZVxuICAgICAgY29uc29sZS5sb2cgJHNjb3BlLnN0YXR1c1xuICAgICAgY29uc29sZS5sb2cgJHNjb3BlLmlzQ29ubmVjdGVkXG5cbiAgJHNjb3BlLmRpc2Nvbm5lY3QgPSAtPlxuICAgICRzY29wZS5zb2NrZXQuZGlzY29ubmVjdCgpXG4iXX0=