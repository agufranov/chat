(function() {
  var Db, redis;

  redis = require("redis");

  Db = (function() {
    function Db() {
      this.client = redis.createClient();
    }

    Db.prototype.debug_flushall = function() {
      return this.client.flushall();
    };

    Db.prototype.saveUserId = function(sid, uid) {
      this.client.set("socket_" + sid, uid);
      return this.client.set("user_" + uid, sid);
    };

    Db.prototype.deleteUserId = function(sid, uid) {
      this.client.del("socket_" + sid);
      return this.client.del("user_" + uid);
    };

    Db.prototype.getSocketIdByUserId = function(uid, cb) {
      return this.client.get("user_" + uid, function(err, reply) {
        return cb(reply);
      });
    };

    return Db;

  })();

  module.exports = Db;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUEsU0FBQTs7QUFBQSxFQUFBLEtBQUEsR0FBUSxPQUFBLENBQVEsT0FBUixDQUFSLENBQUE7O0FBQUEsRUFFTTtBQUNTLElBQUEsWUFBQSxHQUFBO0FBQ1gsTUFBQSxJQUFDLENBQUEsTUFBRCxHQUFVLEtBQUssQ0FBQyxZQUFOLENBQUEsQ0FBVixDQURXO0lBQUEsQ0FBYjs7QUFBQSxpQkFHQSxjQUFBLEdBQWdCLFNBQUEsR0FBQTthQUNkLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixDQUFBLEVBRGM7SUFBQSxDQUhoQixDQUFBOztBQUFBLGlCQU1BLFVBQUEsR0FBWSxTQUFDLEdBQUQsRUFBTSxHQUFOLEdBQUE7QUFDVixNQUFBLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBUixDQUFhLFNBQUEsR0FBUSxHQUFyQixFQUE2QixHQUE3QixDQUFBLENBQUE7YUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLEdBQVIsQ0FBYSxPQUFBLEdBQU0sR0FBbkIsRUFBMkIsR0FBM0IsRUFGVTtJQUFBLENBTlosQ0FBQTs7QUFBQSxpQkFVQSxZQUFBLEdBQWMsU0FBQyxHQUFELEVBQU0sR0FBTixHQUFBO0FBQ1osTUFBQSxJQUFDLENBQUEsTUFBTSxDQUFDLEdBQVIsQ0FBYSxTQUFBLEdBQVEsR0FBckIsQ0FBQSxDQUFBO2FBQ0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxHQUFSLENBQWEsT0FBQSxHQUFNLEdBQW5CLEVBRlk7SUFBQSxDQVZkLENBQUE7O0FBQUEsaUJBY0EsbUJBQUEsR0FBcUIsU0FBQyxHQUFELEVBQU0sRUFBTixHQUFBO2FBQ25CLElBQUMsQ0FBQSxNQUFNLENBQUMsR0FBUixDQUFhLE9BQUEsR0FBTSxHQUFuQixFQUEyQixTQUFDLEdBQUQsRUFBTSxLQUFOLEdBQUE7ZUFDekIsRUFBQSxDQUFHLEtBQUgsRUFEeUI7TUFBQSxDQUEzQixFQURtQjtJQUFBLENBZHJCLENBQUE7O2NBQUE7O01BSEYsQ0FBQTs7QUFBQSxFQXFCQSxNQUFNLENBQUMsT0FBUCxHQUFpQixFQXJCakIsQ0FBQTtBQUFBIiwiZmlsZSI6ImRiLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsicmVkaXMgPSByZXF1aXJlIFwicmVkaXNcIlxuXG5jbGFzcyBEYlxuICBjb25zdHJ1Y3RvcjogLT5cbiAgICBAY2xpZW50ID0gcmVkaXMuY3JlYXRlQ2xpZW50KClcblxuICBkZWJ1Z19mbHVzaGFsbDogLT5cbiAgICBAY2xpZW50LmZsdXNoYWxsKCkgIyBjbGVhbiBkYiBmb3IgZWFzaWVyIGRlYnVnZ2luZ1xuXG4gIHNhdmVVc2VySWQ6IChzaWQsIHVpZCkgLT5cbiAgICBAY2xpZW50LnNldCBcInNvY2tldF8je3NpZH1cIiwgdWlkXG4gICAgQGNsaWVudC5zZXQgXCJ1c2VyXyN7dWlkfVwiLCBzaWRcblxuICBkZWxldGVVc2VySWQ6IChzaWQsIHVpZCkgLT5cbiAgICBAY2xpZW50LmRlbCBcInNvY2tldF8je3NpZH1cIlxuICAgIEBjbGllbnQuZGVsIFwidXNlcl8je3VpZH1cIlxuXG4gIGdldFNvY2tldElkQnlVc2VySWQ6ICh1aWQsIGNiKSAtPlxuICAgIEBjbGllbnQuZ2V0IFwidXNlcl8je3VpZH1cIiwgKGVyciwgcmVwbHkpIC0+XG4gICAgICBjYiByZXBseVxuXG5tb2R1bGUuZXhwb3J0cyA9IERiXG4iXX0=