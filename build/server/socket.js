(function() {
  var Server, socketio;

  socketio = require("socket.io");

  Server = (function() {
    function Server(port) {
      this.io = socketio(port);
      this.io.on("connection", (function(_this) {
        return function(socket) {
          var id;
          id = socket.id;
          console.log("" + id + " connected");
          socket.send("Welcome, " + id);
          socket.broadcast.send("" + id + " connected");
          return socket.on("disconnect", function(socket) {
            console.log("" + id + " disconnected");
            return _this.io.sockets.send("" + id + " disconnected");
          });
        };
      })(this));
    }

    return Server;

  })();

  module.exports.Server = Server;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLGdCQUFBOztBQUFBLEVBQUEsUUFBQSxHQUFXLE9BQUEsQ0FBUSxXQUFSLENBQVgsQ0FBQTs7QUFBQSxFQUVNO0FBQ1MsSUFBQSxnQkFBQyxJQUFELEdBQUE7QUFDWCxNQUFBLElBQUMsQ0FBQSxFQUFELEdBQU0sUUFBQSxDQUFTLElBQVQsQ0FBTixDQUFBO0FBQUEsTUFDQSxJQUFDLENBQUEsRUFBRSxDQUFDLEVBQUosQ0FBTyxZQUFQLEVBQXFCLENBQUEsU0FBQSxLQUFBLEdBQUE7ZUFBQSxTQUFDLE1BQUQsR0FBQTtBQUNuQixjQUFBLEVBQUE7QUFBQSxVQUFBLEVBQUEsR0FBSyxNQUFNLENBQUMsRUFBWixDQUFBO0FBQUEsVUFDQSxPQUFPLENBQUMsR0FBUixDQUFZLEVBQUEsR0FBRSxFQUFGLEdBQU0sWUFBbEIsQ0FEQSxDQUFBO0FBQUEsVUFFQSxNQUFNLENBQUMsSUFBUCxDQUFhLFdBQUEsR0FBVSxFQUF2QixDQUZBLENBQUE7QUFBQSxVQUdBLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBakIsQ0FBc0IsRUFBQSxHQUFFLEVBQUYsR0FBTSxZQUE1QixDQUhBLENBQUE7aUJBSUEsTUFBTSxDQUFDLEVBQVAsQ0FBVSxZQUFWLEVBQXdCLFNBQUMsTUFBRCxHQUFBO0FBQ3RCLFlBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxFQUFBLEdBQUUsRUFBRixHQUFNLGVBQWxCLENBQUEsQ0FBQTttQkFDQSxLQUFDLENBQUEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFaLENBQWlCLEVBQUEsR0FBRSxFQUFGLEdBQU0sZUFBdkIsRUFGc0I7VUFBQSxDQUF4QixFQUxtQjtRQUFBLEVBQUE7TUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQXJCLENBREEsQ0FEVztJQUFBLENBQWI7O2tCQUFBOztNQUhGLENBQUE7O0FBQUEsRUFjQSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWYsR0FBd0IsTUFkeEIsQ0FBQTtBQUFBIiwiZmlsZSI6InNvY2tldC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbInNvY2tldGlvID0gcmVxdWlyZSBcInNvY2tldC5pb1wiXG5cbmNsYXNzIFNlcnZlclxuICBjb25zdHJ1Y3RvcjogKHBvcnQpIC0+XG4gICAgQGlvID0gc29ja2V0aW8gcG9ydFxuICAgIEBpby5vbiBcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT5cbiAgICAgIGlkID0gc29ja2V0LmlkXG4gICAgICBjb25zb2xlLmxvZyBcIiN7aWR9IGNvbm5lY3RlZFwiXG4gICAgICBzb2NrZXQuc2VuZCBcIldlbGNvbWUsICN7aWR9XCJcbiAgICAgIHNvY2tldC5icm9hZGNhc3Quc2VuZCBcIiN7aWR9IGNvbm5lY3RlZFwiXG4gICAgICBzb2NrZXQub24gXCJkaXNjb25uZWN0XCIsIChzb2NrZXQpID0+XG4gICAgICAgIGNvbnNvbGUubG9nIFwiI3tpZH0gZGlzY29ubmVjdGVkXCJcbiAgICAgICAgQGlvLnNvY2tldHMuc2VuZCBcIiN7aWR9IGRpc2Nvbm5lY3RlZFwiXG5cbm1vZHVsZS5leHBvcnRzLlNlcnZlciA9IFNlcnZlclxuIl19